(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"6Edc":function(t,e,n){"use strict";n.r(e),n.d(e,"FormsDataModule",(function(){return I}));var l=n("Valr"),o=n("DUip"),i=n("QJY3"),r=n("wHSu"),f=n("TYT/"),c=n("2yus"),u=n("JOp9"),a=n("cUzu"),s=n("hMSI"),d=n("2MiI"),p=n("A27j"),b=n("5fWo"),m=function(){function t(t,e,n,l,o,f,c){var u=this;this.formBuilder=t,this.rest=e,this.router=n,this.shared=l,this.http=o,this.cookie=f,this.route=c,this.faUser=r.l,this.form=new i.i({}),this.model={},this.title="",this.fields=[],this.loading=!1,this.retrieved=null,this.load=function(){u.loading=!0,u.rest.get("forms/"+u.id+"/edit?target="+u.target).subscribe((function(t){var e=t.data,n=e.title,l=e.scheme,o=e.retrieved;o&&u.parseSelect(l,Object.entries(o.values)),u.title=n,u.fields=l,u.model=o?o.values:{},u.retrieved=o,u.loading=!1}),(function(t){u.loading=!1}))},this.parseSelect=function(t,e){t.filter((function(t){return"select"===t.type})),e.forEach((function(e,n,l){var o=e.find((function(t){return!0})),i=e.reverse().find((function(t){return!0}));t.forEach((function(t){"select"===t.type&&t.key===o&&t.templateOptions.options.forEach((function(t){t.value===i&&(console.log(o,i),t.select="true")}))}))}))},this.report=function(){u.shared.confirm("Reporte","","OK").then((function(t){u.rest.get("institutions/"+u.target+"?export=pdf&mode=declaration").subscribe((function(t){window.open(t.data.url)}),(function(t){}))}))}}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe((function(e){console.log(e),t.id=e.id,t.target=e.target,t.load()}))},t.prototype.onSubmit=function(){var t=this.retrieved?"put":"post";this.rest[t]("retrieved"+("put"===t?"/"+this.retrieved.id:""),{values:this.model,forms_id:this.id,target_id:this.target}).subscribe((function(t){window.history.back()}),(function(t){}))},t.\u0275fac=function(e){return new(e||t)(f.Nb(i.e),f.Nb(c.a),f.Nb(o.c),f.Nb(u.a),f.Nb(a.a),f.Nb(s.a),f.Nb(o.a))},t.\u0275cmp=f.Hb({type:t,selectors:[["app-single-form"]],decls:11,vars:8,consts:[["label","User",3,"icon"],[1,"edit-add-user","p-2","pl-2","pr-2","ml-3","mr-3"],[1,"title-form"],[3,"formGroup","ngSubmit"],[3,"form","fields","model"],[1,"btn","btn-info","w-100",3,"disabled"],["type","button",1,"btn","mt-2","btn-secondary","w-100",3,"disabled","click"]],template:function(t,e){1&t&&(f.Ob(0,"app-header",0),f.Ob(1,"app-logged-user"),f.Tb(2,"div",1),f.Tb(3,"h6",2),f.Cc(4),f.Sb(),f.Tb(5,"form",3),f.bc("ngSubmit",(function(){return e.onSubmit()})),f.Ob(6,"formly-form",4),f.Tb(7,"button",5),f.Cc(8,"ENVIAR "),f.Sb(),f.Tb(9,"button",6),f.bc("click",(function(){return e.report()})),f.Cc(10,"REPORTE "),f.Sb(),f.Sb(),f.Sb()),2&t&&(f.kc("icon",e.faUser),f.Bb(4),f.Dc(e.title),f.Bb(1),f.kc("formGroup",e.form),f.Bb(1),f.kc("form",e.form)("fields",e.fields)("model",e.model),f.Bb(1),f.kc("disabled",!e.form.valid),f.Bb(2),f.kc("disabled",!e.form.valid))},directives:[d.a,p.a,i.w,i.o,i.j,b.c],styles:[".edit-add-user[_ngcontent-%COMP%]{padding:0;list-style:none;font-size:.8rem;background-color:#fff}.form-control[_ngcontent-%COMP%]{border-radius:0;font-size:.8rem;background-color:#fafafa;border:0 solid #fff;border-bottom:1px solid #ddd}input.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid #ff756b}.alert-info[_ngcontent-%COMP%]{padding:.35rem;font-size:.75rem;border-radius:3px}.title-form[_ngcontent-%COMP%]{background:#f6f8fb;padding:.3rem;text-align:center}"]}),t}(),h=[{path:":id/add",component:m},{path:":id/add/:target",component:m}],g=function(){function t(){}return t.\u0275mod=f.Lb({type:t}),t.\u0275inj=f.Kb({factory:function(e){return new(e||t)},imports:[[o.f.forChild(h)],o.f]}),t}(),O=n("mrSG");function v(t,e){if(1&t&&(f.Tb(0,"label",4),f.Cc(1),f.Sb()),2&t){var n=f.ec();f.Bb(1),f.Dc(null==n.field||null==n.field.templateOptions?null:n.field.templateOptions.label)}}var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(O.c)(e,t),e.\u0275fac=function(t){return C(t||e)},e.\u0275cmp=f.Hb({type:e,selectors:[["app-formly-field-input"]],features:[f.yb],decls:5,vars:4,consts:[[1,"form-group"],["for","form_name",4,"ngIf"],["type","text",1,"form-control",3,"formControl","formlyAttributes"],[1,"form-text","text-muted"],["for","form_name"]],template:function(t,e){1&t&&(f.Tb(0,"div",0),f.Ac(1,v,2,1,"label",1),f.Ob(2,"input",2),f.Tb(3,"small",3),f.Cc(4),f.Sb(),f.Sb()),2&t&&(f.Bb(1),f.kc("ngIf",(null==e.field||null==e.field.templateOptions?null:e.field.templateOptions.label)&&"null"!==(null==e.field||null==e.field.templateOptions?null:e.field.templateOptions.label)),f.Bb(1),f.kc("formControl",e.formControl)("formlyAttributes",e.field),f.Bb(2),f.Dc(null==e.field||null==e.field.templateOptions?null:e.field.templateOptions.placeholder))},directives:[l.k,i.c,i.n,i.g,b.b],encapsulation:2}),e}(b.a),C=f.Vb(y),k=n("ct+p"),S=n("o8Qb");function T(t,e){if(1&t&&(f.Tb(0,"label",5),f.Cc(1),f.Sb()),2&t){var n=f.ec();f.Bb(1),f.Dc(null==n.field||null==n.field.templateOptions?null:n.field.templateOptions.label)}}function B(t,e){if(1&t&&(f.Tb(0,"option",6),f.Cc(1),f.Sb()),2&t){var n=e.$implicit;f.kc("selected","true"===(null==n?null:n.select))("value",null==n?null:n.value),f.Bb(1),f.Dc(null==n?null:n.label)}}var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(O.c)(e,t),e.\u0275fac=function(t){return x(t||e)},e.\u0275cmp=f.Hb({type:e,selectors:[["app-formly-field-select"]],features:[f.yb],decls:6,vars:4,consts:[[1,"form-group"],["for","form_name",4,"ngIf"],["id","exampleFormControlSelect2",1,"form-control",3,"formControl"],[3,"selected","value",4,"ngFor","ngForOf"],[1,"form-text","text-muted"],["for","form_name"],[3,"selected","value"]],template:function(t,e){1&t&&(f.Tb(0,"div",0),f.Ac(1,T,2,1,"label",1),f.Tb(2,"select",2),f.Ac(3,B,2,3,"option",3),f.Sb(),f.Tb(4,"small",4),f.Cc(5),f.Sb(),f.Sb()),2&t&&(f.Bb(1),f.kc("ngIf",(null==e.field||null==e.field.templateOptions?null:e.field.templateOptions.label)&&"null"!==(null==e.field||null==e.field.templateOptions?null:e.field.templateOptions.label)),f.Bb(1),f.kc("formControl",e.formControl),f.Bb(1),f.kc("ngForOf",null==e.field||null==e.field.templateOptions?null:e.field.templateOptions.options),f.Bb(2),f.Dc(null==e.field||null==e.field.templateOptions?null:e.field.templateOptions.placeholder))},directives:[l.k,i.t,i.n,i.g,l.j,i.q,i.v],encapsulation:2}),e}(b.a),x=f.Vb(w);function _(t,e){if(1&t&&(f.Tb(0,"label",4),f.Cc(1),f.Sb()),2&t){var n=f.ec();f.Bb(1),f.Dc(null==n.field||null==n.field.templateOptions?null:n.field.templateOptions.label)}}var j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(O.c)(e,t),e.\u0275fac=function(t){return A(t||e)},e.\u0275cmp=f.Hb({type:e,selectors:[["app-formly-field-input"]],features:[f.yb],decls:5,vars:4,consts:[[1,"form-group"],["for","form_name",4,"ngIf"],[1,"form-control",3,"formControl","formlyAttributes"],[1,"form-text","text-muted"],["for","form_name"]],template:function(t,e){1&t&&(f.Tb(0,"div",0),f.Ac(1,_,2,1,"label",1),f.Ob(2,"textarea",2),f.Tb(3,"small",3),f.Cc(4),f.Sb(),f.Sb()),2&t&&(f.Bb(1),f.kc("ngIf",(null==e.field||null==e.field.templateOptions?null:e.field.templateOptions.label)&&"null"!==(null==e.field||null==e.field.templateOptions?null:e.field.templateOptions.label)),f.Bb(1),f.kc("formControl",e.formControl)("formlyAttributes",e.field),f.Bb(2),f.Dc(null==e.field||null==e.field.templateOptions?null:e.field.templateOptions.placeholder))},directives:[l.k,i.c,i.n,i.g,b.b],encapsulation:2}),e}(b.a),A=f.Vb(j),D=n("PCNd"),I=function(){function t(){}return t.\u0275mod=f.Lb({type:t}),t.\u0275inj=f.Kb({factory:function(e){return new(e||t)},imports:[[l.c,g,i.s,b.d.forRoot({types:[{name:"input",component:y},{name:"select",component:w},{name:"textarea",component:j}]}),k.HomeModule,S.b,D.a]]}),t}()},PCNd:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var l=n("Valr"),o=n("TYT/"),i=function(){function t(){}return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},imports:[[l.c]]}),t}()}}]);