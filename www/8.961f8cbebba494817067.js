(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{TQdN:function(o,t,e){"use strict";e.r(t),e.d(t,"AuthGModule",(function(){return y}));var r=e("Valr"),n=e("DUip"),i=e("QJY3"),c=e("TYT/"),s=e("2yus"),a=e("AytR"),u=e("hMSI"),f=function(){function o(o,t){var e=this;this.rest=o,this.cookieService=t,this.login=function(o){return new Promise((function(t,r){e.rest.post("auth/login",o).subscribe((function(o){e.cookieService.set("session",o.access_token,a.a.daysTokenExpire,"/"),e.cookieService.set("user",JSON.stringify(o.user),a.a.daysTokenExpire,"/"),t(o)}),(function(o){r(o)}))}))},this.logout=function(){return new Promise((function(o,t){try{e.cookieService.delete("session","/"),e.cookieService.delete("user","/"),o(!0)}catch(r){t(!1)}}))}}return o.\u0275fac=function(t){return new(t||o)(c.Xb(s.a),c.Xb(u.a))},o.\u0275prov=c.Jb({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),b=e("2MiI"),d=e("o8Qb"),l=function(){function o(o,t,e,r){var n=this;this.formBuilder=o,this.rest=t,this.auth=e,this.router=r,this.onSubmit=function(){n.auth.login(n.form.value).then((function(o){n.router.navigate(["/"]).then()}))}}return o.prototype.ngOnInit=function(){var o=this;this.form=this.formBuilder.group({email:["",[i.u.required,i.u.email]],password:["",i.u.required]}),this.rest.checkSession(!0,!0).then((function(t){return o.router.navigate(["/"])}))},o.\u0275fac=function(t){return new(t||o)(c.Nb(i.e),c.Nb(s.a),c.Nb(f),c.Nb(n.c))},o.\u0275cmp=c.Hb({type:o,selectors:[["app-login"]],decls:23,vars:14,consts:[["src","../../../../assets/images/header.jpg","alt","",1,"img-logo"],[1,"m-2","mt-4","mb-4"],[1,"content-row","p-2","mt-4"],[1,"col-12","m-0","row","p-0"],["autocomplete","off",1,"w-100",3,"formGroup","ngSubmit"],[1,"form-group"],["for","login_email"],["type","email","autocomplete","off","formControlName","email","id","login_email",1,"form-control"],["id","emailHelp",1,"form-text","text-muted"],["for","login_password"],["type","password","autocomplete","off","formControlName","password","id","login_password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-info","btn-block",3,"disabled"]],template:function(o,t){1&o&&(c.Ob(0,"app-header"),c.Tb(1,"div"),c.Ob(2,"img",0),c.Sb(),c.Tb(3,"div",1),c.Tb(4,"div",2),c.Tb(5,"div",3),c.Tb(6,"form",4),c.bc("ngSubmit",(function(){return t.onSubmit()})),c.Tb(7,"div",5),c.Tb(8,"label",6),c.Cc(9),c.fc(10,"translate"),c.Sb(),c.Ob(11,"input",7),c.Tb(12,"small",8),c.Cc(13),c.fc(14,"translate"),c.Sb(),c.Sb(),c.Tb(15,"div",5),c.Tb(16,"label",9),c.Cc(17),c.fc(18,"translate"),c.Sb(),c.Ob(19,"input",10),c.Sb(),c.Tb(20,"button",11),c.Cc(21),c.fc(22,"translate"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&o&&(c.Bb(6),c.kc("formGroup",t.form),c.Bb(3),c.Dc(c.gc(10,6,"LOGIN.EMAIL")),c.Bb(4),c.Dc(c.gc(14,8,"LOGIN.EMAIL_PLACEHOLDER")),c.Bb(4),c.Dc(c.gc(18,10,"LOGIN.PASSWORD")),c.Bb(3),c.kc("disabled",!t.form.valid),c.Bb(1),c.Ec(" ",c.gc(22,12,"LOGIN.SEND")," "))},directives:[b.a,i.w,i.o,i.j,i.c,i.n,i.h],pipes:[d.c],styles:[".content-row[_ngcontent-%COMP%]{font-size:.85rem;background-color:#fff;font-weight:500}.img-logo[_ngcontent-%COMP%]{width:100%;height:10rem;-o-object-fit:cover;object-fit:cover}.form-control[_ngcontent-%COMP%]{border-radius:0;font-size:.8rem;background-color:#fafafa;border:0 solid #fff;border-bottom:1px solid #ddd}"]}),o}(),m=function(){function o(o,t){this.auth=o,this.router=t}return o.prototype.ngOnInit=function(){var o=this;this.auth.logout().then((function(){o.router.navigate(["/","auth"])}))},o.\u0275fac=function(t){return new(t||o)(c.Nb(f),c.Nb(n.c))},o.\u0275cmp=c.Hb({type:o,selectors:[["app-log-out"]],decls:2,vars:0,template:function(o,t){1&o&&(c.Tb(0,"p"),c.Cc(1,"log-out works!"),c.Sb())},styles:[""]}),o}(),p=e("mrSG"),h=e("wHSu"),g=e("JOp9"),S=e("cUzu"),O=e("CbkN"),v=[{path:"login",component:l},{path:"logout",component:m},{path:"confirmed/:token",component:function(){function o(o,t,e,r,n,i,c,s){var u=this;this.formBuilder=o,this.rest=t,this.router=e,this.shared=r,this.http=n,this.modalService=i,this.cookie=c,this.route=s,this.faUser=h.l,this.onSubmit=function(){var o=Object(p.a)(Object(p.a)({},u.form.value),u.query);u.rest.put("auth/confirmed",o).subscribe((function(o){u.router.navigate(["/","auth","logout"])})),console.log(u.form.value)},this.load=function(){u.rest.get("auth/confirmed/"+u.id+u.shared.parseQuery(u.query)).subscribe((function(o){u.data=o,u.cookie.set("session",o.access_token,a.a.daysTokenExpire,"/"),u.cookie.set("user",JSON.stringify(o.user),a.a.daysTokenExpire,"/")}),(function(o){}))}}return o.prototype.ngOnInit=function(){var o=this;this.route.params.subscribe((function(t){o.id=t.token,console.log(t)})),this.route.queryParams.subscribe((function(t){o.query=t})),this.load(),this.form=this.formBuilder.group({password:["",i.u.required],password_confirmation:["",[i.u.required,i.u.minLength(8),i.u.maxLength(12)]]})},o.\u0275fac=function(t){return new(t||o)(c.Nb(i.e),c.Nb(s.a),c.Nb(n.c),c.Nb(g.a),c.Nb(S.a),c.Nb(O.b),c.Nb(u.a),c.Nb(n.a))},o.\u0275cmp=c.Hb({type:o,selectors:[["app-confirmed"]],decls:23,vars:18,consts:[["label","User",3,"icon"],[1,"edit-add-user","p-2","pl-2","pr-2","ml-3","mr-3","mt-4"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","form_password"],["type","password","formControlName","password","id","form_password","placeholder","",1,"form-control"],[1,"form-text","text-muted"],["for","form_password_confirmation"],["type","password","formControlName","password_confirmation","id","form_password_confirmation","placeholder","",1,"form-control"],[1,"btn","btn-info","btn-block",3,"disabled"]],template:function(o,t){1&o&&(c.Ob(0,"app-header",0),c.Tb(1,"div",1),c.Tb(2,"form",2),c.bc("ngSubmit",(function(){return t.onSubmit()})),c.Tb(3,"div",3),c.Tb(4,"label",4),c.Cc(5),c.fc(6,"translate"),c.Sb(),c.Ob(7,"input",5),c.Tb(8,"small",6),c.Cc(9),c.fc(10,"translate"),c.Sb(),c.Sb(),c.Tb(11,"div",3),c.Tb(12,"label",7),c.Cc(13),c.fc(14,"translate"),c.Sb(),c.Ob(15,"input",8),c.Tb(16,"small",6),c.Cc(17),c.fc(18,"translate"),c.Sb(),c.Sb(),c.Tb(19,"div",3),c.Tb(20,"button",9),c.Cc(21),c.fc(22,"translate"),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&o&&(c.kc("icon",t.faUser),c.Bb(2),c.kc("formGroup",t.form),c.Bb(3),c.Dc(c.gc(6,8,"CONFIRMED.FORM.PASSWORD")),c.Bb(4),c.Dc(c.gc(10,10,"CONFIRMED.FORM.PASSWORD_CONFIRMATION")),c.Bb(4),c.Dc(c.gc(14,12,"CONFIRMED.FORM.PASSWORD_CONFIRMATION")),c.Bb(4),c.Dc(c.gc(18,14,"CONFIRMED.FORM.PASSWORD_CONFIRMATION_PLACEHOLDER")),c.Bb(3),c.kc("disabled",!t.form.valid),c.Bb(1),c.Ec(" ",c.gc(22,16,"GENERAL.SEND")," "))},directives:[b.a,i.w,i.o,i.j,i.c,i.n,i.h],pipes:[d.c],styles:[".edit-add-user[_ngcontent-%COMP%]{padding:0;list-style:none;font-size:.8rem;background-color:#fff}.form-control[_ngcontent-%COMP%]{border-radius:0;font-size:.8rem;background-color:#fafafa;border:0 solid #fff;border-bottom:1px solid #ddd}input.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid #ff756b}.alert-info[_ngcontent-%COMP%]{padding:.35rem;font-size:.75rem;border-radius:3px}"]}),o}()}],w=function(){function o(){}return o.\u0275mod=c.Lb({type:o}),o.\u0275inj=c.Kb({factory:function(t){return new(t||o)},imports:[[n.f.forChild(v)],n.f]}),o}(),N=e("ct+p"),y=function(){function o(){}return o.\u0275mod=c.Lb({type:o}),o.\u0275inj=c.Kb({factory:function(t){return new(t||o)},imports:[[r.c,w,N.HomeModule,i.s,d.b]]}),o}()}}]);