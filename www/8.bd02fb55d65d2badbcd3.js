(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{TQdN:function(t,o,e){"use strict";e.r(o),e.d(o,"AuthGModule",(function(){return y}));var r=e("Valr"),n=e("DUip"),i=e("QJY3"),s=e("TYT/"),c=e("2yus"),a=e("AytR"),u=e("hMSI"),f=function(){function t(t,o){var e=this;this.rest=t,this.cookieService=o,this.login=function(t){return new Promise((function(o,r){e.rest.post("auth/login",t).subscribe((function(t){e.cookieService.set("session",t.access_token,a.a.daysTokenExpire,"/"),e.cookieService.set("user",JSON.stringify(t.user),a.a.daysTokenExpire,"/"),o(t)}),(function(t){r(t)}))}))},this.logout=function(){return new Promise((function(t,o){try{e.cookieService.delete("session","/"),e.cookieService.delete("user","/"),t(!0)}catch(r){o(!1)}}))}}return t.\u0275fac=function(o){return new(o||t)(s.Xb(c.a),s.Xb(u.a))},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),b=e("2MiI"),d=e("o8Qb"),l=function(){function t(t,o,e,r){var n=this;this.formBuilder=t,this.rest=o,this.auth=e,this.router=r,this.onSubmit=function(){n.auth.login(n.form.value).then((function(t){n.router.navigate(["/"]).then()}))}}return t.prototype.ngOnInit=function(){var t=this;this.form=this.formBuilder.group({email:["",[i.u.required,i.u.email]],password:["",i.u.required]}),this.rest.checkSession(!0,!0).then((function(o){return t.router.navigate(["/"])}))},t.\u0275fac=function(o){return new(o||t)(s.Nb(i.e),s.Nb(c.a),s.Nb(f),s.Nb(n.c))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-login"]],decls:23,vars:14,consts:[[1,"m-2","mt-4","mb-4"],[1,"mt-2","p-2","text-center"],["src","../../../../assets/images/computer.svg","alt","",1,"img-logo"],[1,"content-row","p-2","mt-4"],[1,"col-12","m-0","row","p-0"],["autocomplete","off",1,"w-100",3,"formGroup","ngSubmit"],[1,"form-group"],["for","login_email"],["type","email","autocomplete","off","formControlName","email","id","login_email",1,"form-control"],["id","emailHelp",1,"form-text","text-muted"],["for","login_password"],["type","password","autocomplete","off","formControlName","password","id","login_password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-info","btn-block",3,"disabled"]],template:function(t,o){1&t&&(s.Ob(0,"app-header"),s.Tb(1,"div",0),s.Tb(2,"div",1),s.Ob(3,"img",2),s.Sb(),s.Tb(4,"div",3),s.Tb(5,"div",4),s.Tb(6,"form",5),s.bc("ngSubmit",(function(){return o.onSubmit()})),s.Tb(7,"div",6),s.Tb(8,"label",7),s.Cc(9),s.fc(10,"translate"),s.Sb(),s.Ob(11,"input",8),s.Tb(12,"small",9),s.Cc(13),s.fc(14,"translate"),s.Sb(),s.Sb(),s.Tb(15,"div",6),s.Tb(16,"label",10),s.Cc(17),s.fc(18,"translate"),s.Sb(),s.Ob(19,"input",11),s.Sb(),s.Tb(20,"button",12),s.Cc(21),s.fc(22,"translate"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&t&&(s.Bb(6),s.kc("formGroup",o.form),s.Bb(3),s.Dc(s.gc(10,6,"LOGIN.EMAIL")),s.Bb(4),s.Dc(s.gc(14,8,"LOGIN.EMAIL_PLACEHOLDER")),s.Bb(4),s.Dc(s.gc(18,10,"LOGIN.PASSWORD")),s.Bb(3),s.kc("disabled",!o.form.valid),s.Bb(1),s.Ec(" ",s.gc(22,12,"LOGIN.SEND")," "))},directives:[b.a,i.w,i.o,i.j,i.c,i.n,i.h],pipes:[d.c],styles:[".content-row[_ngcontent-%COMP%]{font-size:.85rem;background-color:#fff;font-weight:500}.img-logo[_ngcontent-%COMP%]{width:100%;height:5rem}.form-control[_ngcontent-%COMP%]{border-radius:0;font-size:.8rem;background-color:#fafafa;border:0 solid #fff;border-bottom:1px solid #ddd}"]}),t}(),m=function(){function t(t,o){this.auth=t,this.router=o}return t.prototype.ngOnInit=function(){var t=this;this.auth.logout().then((function(){t.router.navigate(["/","auth"])}))},t.\u0275fac=function(o){return new(o||t)(s.Nb(f),s.Nb(n.c))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-log-out"]],decls:2,vars:0,template:function(t,o){1&t&&(s.Tb(0,"p"),s.Cc(1,"log-out works!"),s.Sb())},styles:[""]}),t}(),p=e("mrSG"),h=e("wHSu"),g=e("JOp9"),S=e("cUzu"),O=e("CbkN"),v=[{path:"login",component:l},{path:"logout",component:m},{path:"confirmed/:token",component:function(){function t(t,o,e,r,n,i,s,c){var u=this;this.formBuilder=t,this.rest=o,this.router=e,this.shared=r,this.http=n,this.modalService=i,this.cookie=s,this.route=c,this.faUser=h.l,this.onSubmit=function(){var t=Object(p.a)(Object(p.a)({},u.form.value),u.query);u.rest.put("auth/confirmed",t).subscribe((function(t){u.router.navigate(["/","auth","logout"])})),console.log(u.form.value)},this.load=function(){u.rest.get("auth/confirmed/"+u.id+u.shared.parseQuery(u.query)).subscribe((function(t){u.data=t,u.cookie.set("session",t.access_token,a.a.daysTokenExpire,"/"),u.cookie.set("user",JSON.stringify(t.user),a.a.daysTokenExpire,"/")}),(function(t){}))}}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe((function(o){t.id=o.token,console.log(o)})),this.route.queryParams.subscribe((function(o){t.query=o})),this.load(),this.form=this.formBuilder.group({password:["",i.u.required],password_confirmation:["",[i.u.required,i.u.minLength(8),i.u.maxLength(12)]]})},t.\u0275fac=function(o){return new(o||t)(s.Nb(i.e),s.Nb(c.a),s.Nb(n.c),s.Nb(g.a),s.Nb(S.a),s.Nb(O.b),s.Nb(u.a),s.Nb(n.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-confirmed"]],decls:23,vars:18,consts:[["label","User",3,"icon"],[1,"edit-add-user","p-2","pl-2","pr-2","ml-3","mr-3","mt-4"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","form_password"],["type","password","formControlName","password","id","form_password","placeholder","",1,"form-control"],[1,"form-text","text-muted"],["for","form_password_confirmation"],["type","password","formControlName","password_confirmation","id","form_password_confirmation","placeholder","",1,"form-control"],[1,"btn","btn-info","btn-block",3,"disabled"]],template:function(t,o){1&t&&(s.Ob(0,"app-header",0),s.Tb(1,"div",1),s.Tb(2,"form",2),s.bc("ngSubmit",(function(){return o.onSubmit()})),s.Tb(3,"div",3),s.Tb(4,"label",4),s.Cc(5),s.fc(6,"translate"),s.Sb(),s.Ob(7,"input",5),s.Tb(8,"small",6),s.Cc(9),s.fc(10,"translate"),s.Sb(),s.Sb(),s.Tb(11,"div",3),s.Tb(12,"label",7),s.Cc(13),s.fc(14,"translate"),s.Sb(),s.Ob(15,"input",8),s.Tb(16,"small",6),s.Cc(17),s.fc(18,"translate"),s.Sb(),s.Sb(),s.Tb(19,"div",3),s.Tb(20,"button",9),s.Cc(21),s.fc(22,"translate"),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&t&&(s.kc("icon",o.faUser),s.Bb(2),s.kc("formGroup",o.form),s.Bb(3),s.Dc(s.gc(6,8,"CONFIRMED.FORM.PASSWORD")),s.Bb(4),s.Dc(s.gc(10,10,"CONFIRMED.FORM.PASSWORD_CONFIRMATION")),s.Bb(4),s.Dc(s.gc(14,12,"CONFIRMED.FORM.PASSWORD_CONFIRMATION")),s.Bb(4),s.Dc(s.gc(18,14,"CONFIRMED.FORM.PASSWORD_CONFIRMATION_PLACEHOLDER")),s.Bb(3),s.kc("disabled",!o.form.valid),s.Bb(1),s.Ec(" ",s.gc(22,16,"GENERAL.SEND")," "))},directives:[b.a,i.w,i.o,i.j,i.c,i.n,i.h],pipes:[d.c],styles:[".edit-add-user[_ngcontent-%COMP%]{padding:0;list-style:none;font-size:.8rem;background-color:#fff}.form-control[_ngcontent-%COMP%]{border-radius:0;font-size:.8rem;background-color:#fafafa;border:0 solid #fff;border-bottom:1px solid #ddd}input.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid #ff756b}.alert-info[_ngcontent-%COMP%]{padding:.35rem;font-size:.75rem;border-radius:3px}"]}),t}()}],w=function(){function t(){}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(o){return new(o||t)},imports:[[n.f.forChild(v)],n.f]}),t}(),N=e("ct+p"),y=function(){function t(){}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(o){return new(o||t)},imports:[[r.c,w,N.HomeModule,i.s,d.b]]}),t}()}}]);